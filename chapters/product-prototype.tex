\chapter{Progettazione e codifica}
\label{cap:progettazione-codifica}

\section{Tecnologie e strumenti}
\label{sec:tecnologie-strumenti}

In questa sezione, si descrivono le tecnologie utilizzate sia per ENGaming sia per i giochi.\\
Infatti, nonostante i giochi non necessitino di modifiche per il funzionamento in ENGaming, ritengo comunque opportuno citarne le tecnologie che utilizzano, che ritengo possano essere interessanti.

\subsection{Tecnologie e strumenti del prodotto}

\subsubsection{Electron}
\begin{figure}[h]
    \centering
    \includegraphics[width=150pt]{images/technologies/electron.png}
    \caption{Logo di Electron}
    \label{fig:electron}
\end{figure}
\gls{elctr} viene utilizzato per creare l'applicazione desktop, visualizzandola nello schermo dell'ENSign11.\\
Inoltre, si occupa della comunicazione tra il back-end e il front-end dell'applicazione, attraverso canali \gls{ipcg}.

\subsubsection{Angular}
\label{subsec:angular}
\begin{figure}[h]
    \centering
    \includegraphics[width=150pt]{images/technologies/angular.png}
    \caption{Logo di Angular}
    \label{fig:angular}
\end{figure}
\gls{angl} è il framework scelto per la realizzazione della parte visiva dell'applicazione.\\
Angular permette la creazione di Componenti, ovvero di elementi o pagine, dove sono presenti:
\begin{itemize}
    \item un file HTML, per la visualizzazione del componente.
    \item un foglio di stile (CSS/SASS/LESS) per gli effetti grafici.
    \item un file Typescript, per definire il comportamento del componente.
\end{itemize}
Inoltre, permette l'utilizzo di Servizi per il trasferimento di dati tra componenti.
\subsubsection{Typescript}
\begin{figure}[h]
    \centering
    \includegraphics[width=150pt]{images/technologies/typescript.png}
    \caption{Logo di Typescript}
    \label{fig:typescript}
\end{figure}
\gls{tsc} viene utilizzato sia da Electron che da Angular (da quest'ultimo per la definizione del comportamento di componenti e servizi).\\
Ciò che caratterizza Typescript da Javascript è la tipizzazione delle variabili, elemento che trovo molto utile sopratutto se si è in precedenza lavorato con linguaggi di programmazione come Java e C++, come nel mio caso.\\
I sorgenti scritti in questo linguaggio devono poi essere compilati per generare il file Javascript effettivamente letto dal browser.

\subsubsection{C++}
\begin{figure}[h]
    \centering
    \includegraphics[width=150pt]{images/technologies/cpp.png}
    \caption{Logo di C++}
    \label{fig:cpp}
\end{figure}
\gls{cpp} è utilizzato per la logica relativa al device. In particolare, attraverso un driver (fornito dall'azienda), si possono rilevare le interazioni con il device (sia tramite tocco che tramite digitalizer).

\subsubsection{Node-API}
\begin{figure}[h]
    \centering
    \includegraphics[width=150pt]{images/technologies/nodeapi.png}
    \caption{Logo delle Node-API}
    \label{fig:nodeapi}
\end{figure}
Le \gls{napi} sono utilizzate per rendere la parte in C++ "usabile" dalla parte sviluppata in Electron.\\
Infatti, senza di esse, non sarebbe possibile utilizzare i metodi per l'interazione con il device.

\subsubsection{Electron-Forge}
\gls{elctrForge} viene utilizzato per creare degli installer, o dei pacchetti, a seconda del sistema operativo in cui si va a compilare il progetto.\\
Tale strumento permette di compilare l'applicazione per Windows, Linux e MacOS, e ciò rende ENGaming un applicativo multipiattaforma.

\subsection{Tecnologie e strumenti dei giochi}

\subsubsection{HTML-CSS-JavaScript}
\begin{figure}[h]
    \centering
    \includegraphics[width=300pt]{images/technologies/HTMLCSSJS.png}
    \caption{Loghi di HTML, CSS e Javascript}
    \label{fig:HTMLCSSJS}
\end{figure}
I giochi che ENGaming esegue sono semplici giochi eseguibili anche su browser. Per tale motivo, sono scritti con \gls{html} per la struttura (generalmente composta da canvas), \gls{css} per lo stile e \gls{js} per il gioco vero e proprio.\\
Per avere tutte le funzionalità che l'applicativo offre, è necessario che i giochi implementino una piccola modifica, che consiste nell'inviare un messaggio alla pagina principale.\\
Infatti, essendo il gioco visualizzato all'interno di una pagina, è necessario che il gioco mandi il punteggio "in alto", utilizzando la seguente riga di codice:
\begin{lstlisting}
    window.top.postMessage({type:'gameIsOver',data:score});
\end{lstlisting}
Questo comando manda un messaggio con il punteggio conseguito. Il tipo (in questo caso, "gameIsOver") indica la tipologia del messaggio, in modo da poterlo distinguere rispetto ad altri messaggi.
\newpage
\subsubsection{WebAssembly}
\begin{figure}[h]
    \centering
    \includegraphics[width=150pt]{images/technologies/webassembly.png}
    \caption{Logo di WebAssembly}
    \label{fig:webassembly}
\end{figure}
Nel caso si volesse eseguire un classico nell'ENGaming (ad esempio, Doom), bisogna prima passare per \gls{webassembly}, in modo da renderlo eseguibile su un browser.\\
Le modifiche da fare per il funzionamento dipendono dal singolo gioco, è in ogni caso indispensabile essere in possesso dei sorgenti.\\
Tale gioco viene poi letto da un normale file Javascript attraverso il file con estensione .wasm, che non permette di effettuare la modifica per la ricezione del punteggio, quindi per tali giochi non si possono avere record salvati.

\include{ProgettazioneTecnica/ENGaming_progettazione}
\section{Codifica}
\minput{Prodotto/sviluppo}
\minput{Prodotto/prodotto}